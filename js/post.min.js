(function(a){tagBox.get=function(e,b){var c=e.substr(e.indexOf("-")+1);var d={action:"get-tagcloud",lang:a("#post_lang_choice").val(),tax:c};a.post(ajaxurl,d,function(g,f){if(0==g||"success"!=f){g=wpAjax.broken}g=a('<p id="tagcloud-'+c+'" class="the-tagcloud">'+g+"</p>");a("a",g).click(function(){tagBox.flushTags(a(this).closest(".inside").children(".tagsdiv"),this);return false});if(b==1){a("#"+e).after(g)}else{v=a(".the-tagcloud").css("display");a(".the-tagcloud").replaceWith(g);a(".the-tagcloud").css("display",v)}})},tagBox.suggest=function(){ajaxtag=a("div.ajaxtag");a("input.newtag",ajaxtag).unbind().blur(function(){if(this.value==""){a(this).parent().siblings(".taghint").css("visibility","")}}).focus(function(){a(this).parent().siblings(".taghint").css("visibility","hidden")}).keyup(function(b){if(13==b.which){tagBox.flushTags(a(this).closest(".tagsdiv"));return false}}).keypress(function(b){if(13==b.which){b.preventDefault();return false}}).each(function(){var c=a("#post_lang_choice").val();var b=a(this).closest("div.tagsdiv").attr("id");a(this).suggest(ajaxurl+"?action=polylang-ajax-tag-search&lang="+c+"&tax="+b,{delay:500,minchars:2,multiple:true,multipleSep:","})})};tagBox.init=function(){var b=this,c=a("div.ajaxtag");a(".tagsdiv").each(function(){tagBox.quickClicks(this)});a("input.tagadd",c).click(function(){b.flushTags(a(this).closest(".tagsdiv"))});a("div.taghint",c).click(function(){a(this).css("visibility","hidden").parent().siblings(".newtag").focus()});tagBox.suggest();a("#post").submit(function(){a("div.tagsdiv").each(function(){tagBox.flushTags(this,false,1)})});a("a.tagcloud-link").click(function(){tagBox.get(a(this).attr("id"),1);a(this).unbind().click(function(){a(this).siblings(".the-tagcloud").toggle();return false});return false})}})(jQuery);(function(b){var a=inlineEditPost.edit;inlineEditPost.edit=function(g){a.apply(this,arguments);var c=0;if(typeof(g)=="object"){c=parseInt(this.getId(g))}if(c>0){var f=b("#edit-"+c);var d=f.find(':input[name="inline_lang_choice"]');d.find("option:selected").removeProp("selected");var e=b("#lang_"+c).html();b("input[name='old_lang']").val(e);d.find('option[value="'+e+'"]').prop("selected",true)}}})(jQuery);jQuery(document).ready(function(c){var b=new Array();c(".categorydiv").each(function(){var f=c(this).attr("id"),e,d;e=f.split("-");e.shift();d=e.join("-");b.push(d);c("#"+d+"-add-submit").before(c("<input />").attr("type","hidden").attr("id",d+"-lang").attr("name","term_lang_choice").attr("value",c("#post_lang_choice").val()))});c("#post_lang_choice").change(function(){var d={action:"post_lang_choice",lang:c(this).val(),taxonomies:b,post_id:c("#post_ID").val(),_pll_nonce:c("#_pll_nonce").val()};c.post(ajaxurl,d,function(e){var f=wpAjax.parseAjaxResponse(e,"ajax-response");c.each(f.responses,function(){switch(this.what){case"translations":c("#post-translations").html(this.data);a();break;case"taxonomy":var g=this.data;c("#"+g+"checklist").html(this.supplemental.all);c("#"+g+"checklist-pop").html(this.supplemental.populars);c("#new"+g+"_parent").replaceWith(this.supplemental.dropdown);c("#"+g+"-lang").val(c("#post_lang_choice").val());break;case"pages":c("#pageparentdiv > .inside").html(this.data);break;default:break}});c(".tagcloud-link").each(function(){var g=c(this).attr("id");tagBox.get(g,0)});tagBox.suggest()})});c(".media_lang_choice").change(function(){var d={action:"media_lang_choice",lang:c(this).val(),post_id:c(this).attr("name"),_pll_nonce:c("#_pll_nonce").val()};c.post(ajaxurl,d,function(e){var f=wpAjax.parseAjaxResponse(e,"ajax-response");c.each(f.responses,function(){switch(this.what){case"translations":c(".translations").html(this.data);c(".compat-field-translations").html(this.data);break;default:break}})})});function a(){c(".tr_lang").each(function(){var d=c(this).attr("id").substring(8);var e=c(this).parent().siblings(".pll-edit-column");c(this).autocomplete({minLength:0,source:ajaxurl+"?action=pll_posts_not_translated&post_language="+c("#post_lang_choice").val()+"&translation_language="+d+"&post_type="+c("#post_type").val()+"&_pll_nonce="+c("#_pll_nonce").val(),select:function(f,g){c("#htr_lang_"+d).val(g.item.id);e.html(g.item.link)}});c(this).blur(function(){if(!c(this).val()){c("#htr_lang_"+d).val(0);e.html(e.siblings(".hidden").children().clone())}})})}a()});
